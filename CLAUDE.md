# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Repository Overview

This is a Shopify theme codebase for "Boond 2025" (v1.0.0), a liquid-based theme with custom components and enhanced navigation features. The theme includes a sophisticated mega menu system and follows Shopify's modern theme architecture.

## Development Commands

Since this is a Shopify theme, development involves:
- **Theme deployment**: Use Shopify CLI (`shopify theme dev` or `shopify theme push`)
- **Asset compilation**: No build process - assets are served directly by Shopify
- **Preview changes**: Access via Shopify admin theme editor or preview URLs

## Theme Architecture

### Core Structure
- **Layout**: `layout/theme.liquid` is the main template wrapper
- **Sections**: Reusable template components in `sections/` (header, footer, product pages)
- **Blocks**: Modular components in `blocks/` prefixed with `_` (e.g., `_header-menu.liquid`)
- **Snippets**: Reusable template partials in `snippets/`
- **Templates**: Page-specific JSON files in `templates/` (auto-generated by Shopify)
- **Assets**: CSS and JavaScript files served by Shopify CDN

### Block System Architecture
The theme uses a sophisticated block-based architecture where:
- Blocks prefixed with `_` are internal components (e.g., `_header-menu.liquid`, `_content.liquid`)
- Blocks without `_` are user-facing components in the theme editor
- Blocks can contain sub-blocks and accept settings through JSON schema

### Header System Integration
The header uses a multi-layer architecture:
- `sections/header.liquid` defines overall header structure
- `sections/header-group.json` contains header configuration (auto-generated)
- `blocks/_header-menu.liquid` handles menu rendering with multiple style options
- Menu styles include standard dropdowns and the custom DK mega menu system

## DK Mega Menu System

### Architecture
A comprehensive mega menu system that integrates with the header menu block:
- **Entry point**: `blocks/_header-menu.liquid` (line 67-68) renders `dk_mega-menu` when `menu_style == 'dk_mega_menu'`
- **Main logic**: `snippets/dk_mega-menu.liquid` handles per-menu-item dropdown logic
- **Content rendering**: `snippets/dk_mega-menu-content.liquid` contains the actual mega menu layout
- **Styling**: `snippets/dk_mega-menu-styles.liquid` with forced CSS declarations using `!important`

### Menu Item Behavior
- **SHOP menu items**: Get full mega menu with navigation categories, product columns, and carousel
- **Other menu items**: Get regular dropdowns or no dropdown based on sub-links
- **Detection logic**: Automatically detects menu handles containing "shop" (case-insensitive)

### Key Components
- **Navigation categories**: Left sidebar with callout pills (NEW, HOT, etc.)
- **Product columns**: Skincare/Haircare menu columns with configurable content
- **Product carousel**: 2-products-per-slide with manual navigation (no auto-scroll)
- **Custom product cards**: 200x200px cards with proper text wrapping

### Configuration
All settings are accessible through Shopify admin theme editor:
- Header → Menu block → Style: "DK Mega Menu"
- Settings include collection selection, menu configuration, callout pills, and layout options

## File Naming Conventions

### DK Components
All custom mega menu components use `dk_` prefix:
- `snippets/dk_mega-menu*.liquid` - Main mega menu system
- `blocks/dk_*.liquid` - Standalone blocks (legacy, not actively used)

### Theme Conventions
- `_` prefix for internal/private blocks
- Snake_case for file names
- Liquid templates use `.liquid` extension
- JSON templates are auto-generated by Shopify

## Key Technical Details

### CSS Architecture
- Base styles in `assets/base.css`
- Component-specific styles embedded in liquid files using `{% stylesheet %}` tags
- DK mega menu uses forced styling with `!important` declarations to override theme conflicts
- Responsive design with mobile-first approach

### JavaScript Patterns
- Modern ES6+ modules loaded with `type="module"`
- Component-specific JavaScript embedded in liquid files using `<script>` tags
- Event-driven architecture with custom elements (e.g., `<header-menu>`)
- Carousel functionality with manual navigation only

### Liquid Templating
- Extensive use of `{% liquid %}` tag for multi-line logic
- Settings accessed via `block.settings.*` and `section.settings.*`
- Product data accessed via `collections[handle].products`
- Responsive image generation using `image_url` filters with width parameters

### Color Scheme Integration
- Hey Bud signature green: `#173f36`
- Uses theme's color scheme system with scheme-based classes
- Color schemes defined in `config/settings_schema.json`

## Important Notes

### Template Auto-generation
Files in `templates/` and some in `sections/` contain auto-generated JSON that may be overwritten by Shopify admin changes. Exercise caution when editing these files.

### Carousel Implementation
The product carousel shows 2 products per slide with:
- Manual navigation only (auto-scroll disabled)
- Proper slide calculation to prevent empty slides
- Responsive layout with 32px gap between cards
- Text wrapping forced with `white-space: normal !important`

### Menu Integration
The mega menu integrates deeply with Shopify's navigation system:
- Requires navigation menus to be created in Shopify admin
- Menu items are detected by handle/title for mega menu display
- Regular Shopify dropdown functionality preserved for non-mega menu items

### Performance Considerations
- Images lazy-loaded with proper `loading="lazy"` attributes
- CSS and JS inlined in components for faster loading
- No build process - assets served directly by Shopify's CDN
- Careful use of `!important` only where necessary to override theme conflicts

## Reference Materials

### DK Mega Menu Documentation
- **Usage Guide**: `references/dk-mega-menu-usage-guide.md` contains comprehensive setup and configuration instructions
- **Implementation Details**: Detailed explanations of callout pills, carousel functionality, and responsive behavior
- **Troubleshooting**: Common issues and solutions for the mega menu system